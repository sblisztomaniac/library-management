# ðŸ“¦ Backlog â€“ Backend Tasks for Library Management MVP

All frontend UI is assumed to be generated by Bolt. This backlog tracks all backend logic required to enable full MVP functionality.

---

## ðŸš€ Epic 1: Book Management

### ðŸ§© User Story 1.1 â€“ Admin can add books
- [ ] Define `addBook(bookData)` function with required fields
- [ ] Validate book input fields (title, author, total copies â‰¥ 1)
- [ ] Push new book to in-memory array or mock API

### ðŸ§© User Story 1.2 â€“ Admin can edit existing books
- [ ] Define `editBook(bookId, updatedFields)`
- [ ] Update book object and recalculate available copies if total is edited

### ðŸ§© User Story 1.3 â€“ Admin can delete books
- [ ] Define `deleteBook(bookId)`
- [ ] Ensure books on loan cannot be deleted (optional validation)

---

## ðŸš€ Epic 2: Loan Management

### ðŸ§© User Story 2.1 â€“ Member can borrow books
- [ ] Define `borrowBook(userId, bookId)`
- [ ] Check if `copies_available > 0`
- [ ] Create a loan record with `borrow_date`, `due_date` (14 days), `return_date = null`
- [ ] Decrement `copies_available` in book data

### ðŸ§© User Story 2.2 â€“ Member can return books
- [ ] Define `returnBook(loanId)`
- [ ] Mark `return_date = today` in loan record
- [ ] Increment `copies_available` in book data

### ðŸ§© User Story 2.3 â€“ Admin can view all loans
- [ ] Create function `getAllLoans()` with optional filters (e.g. `isReturned`, `due_date`)

---

## ðŸš€ Epic 3: Book Browsing & Searching

### ðŸ§© User Story 3.1 â€“ Member can search for books
- [ ] Implement `searchBooks(query)` across title, author, category
- [ ] Return list of matched books with availability

### ðŸ§© User Story 3.2 â€“ Member can view book availability
- [ ] Ensure `copies_available` is returned in all book views

---

## ðŸš€ Epic 4: Member Loan History

### ðŸ§© User Story 4.1 â€“ Member can view current borrowed books
- [ ] Define `getCurrentLoans(userId)`
- [ ] Return loans where `return_date IS NULL`

### ðŸ§© User Story 4.2 â€“ Member can view loan history
- [ ] Define `getLoanHistory(userId)`
- [ ] Return all past loans (with return_date populated)

---

## ðŸš€ Epic 5: Data Store & Structure

### ðŸ§© User Story 5.1 â€“ In-memory mock database
- [ ] Define mock `users`, `books`, and `loans` arrays
- [ ] Structure each entity to match the `datamodel.md`

### ðŸ§© User Story 5.2 â€“ Enable state persistence (optional)
- [ ] Store in `localStorage` or JSON file for session retention
- [ ] Load on app start, save on mutation (optional dev tool)

---

## ðŸ›  Suggested File Structure (Backend Logic)

